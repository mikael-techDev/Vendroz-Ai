<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vendroz-Ai</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-purple-50 to-blue-50 min-h-screen">
  <div id="app" class="flex flex-col h-screen">
    <!-- Header -->
    <div class="bg-white shadow-lg px-6 py-4 border-b border-purple-100">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center">
          <span class="text-white text-2xl">ü§ñ</span>
        </div>
        <div>
          <h1 class="text-xl font-bold text-gray-800">VENDROZ-AI</h1>
          <p class="text-xs text-gray-500" id="status">Pr√™t ‚Ä¢ Aucune inscription requise</p>
        </div>
      </div>
    </div>

    <!-- Messages -->
    <div id="messages" class="flex-1 overflow-y-auto p-4 space-y-4">
      <div class="text-center mt-20">
        <div class="text-6xl mb-4 animate-bounce">ü§ñ</div>
        <p class="text-2xl font-bold text-gray-700 mb-2">Bonjour ! üëã</p>
        <p class="text-gray-500 mb-6">Posez-moi n'importe quelle question ‚Ä¢ 100% gratuit</p>
        
        <div class="flex flex-wrap gap-2 justify-center max-w-2xl mx-auto">
          <button onclick="setInput('Explique-moi la photosynth√®se en termes simples')" class="px-4 py-2 bg-white rounded-full text-sm hover:bg-purple-100 shadow-sm transition">
            üå± Photosynth√®se
          </button>
          <button onclick="setInput('√âcris-moi une histoire courte sur un robot')" class="px-4 py-2 bg-white rounded-full text-sm hover:bg-purple-100 shadow-sm transition">
            üìñ Histoire
          </button>
          <button onclick="setInput('Quels sont les meilleurs conseils pour bien dormir ?')" class="px-4 py-2 bg-white rounded-full text-sm hover:bg-purple-100 shadow-sm transition">
            üò¥ Sommeil
          </button>
          <button onclick="setInput('Comment fonctionne Internet ?')" class="px-4 py-2 bg-white rounded-full text-sm hover:bg-purple-100 shadow-sm transition">
            üåê Internet
          </button>
        </div>
        
        <div class="mt-8 p-4 bg-green-50 border border-green-200 rounded-lg max-w-md mx-auto">
          <p class="text-sm text-green-800">
            ‚ú® <strong>Aucune inscription requise !</strong> Commencez √† discuter imm√©diatement.
          </p>
        </div>
      </div>
    </div>

    <!-- Input -->
    <div class="bg-white border-t border-purple-100 p-4">
      <div class="max-w-4xl mx-auto flex gap-3">
        <input
          type="text"
          id="input"
          placeholder="Tapez votre message... (Appuyez sur Entr√©e)"
          class="flex-1 px-4 py-3 border-2 border-purple-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:outline-none"
          onkeypress="if(event.key==='Enter' && !event.shiftKey) sendMessage()"
        />
        <button
          onclick="sendMessage()"
          id="sendBtn"
          class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition font-medium flex items-center gap-2"
        >
          <span>Envoyer</span>
          <span>‚Üí</span>
        </button>
      </div>
    </div>
  </div>

  <script>
    // Configuration - Cl√© API configur√©e
    const API_KEY = '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';
    
    function setInput(text) {
      document.getElementById('input').value = text;
      document.getElementById('input').focus();
    }
    
    function addMessage(role, content) {
      const messagesDiv = document.getElementById('messages');
      const welcome = messagesDiv.querySelector('.text-center');
      if (welcome) welcome.remove();
      
      const messageDiv = document.createElement('div');
      messageDiv.className = `flex gap-3 ${role === 'user' ? 'justify-end' : 'justify-start'} opacity-0 animate-fade-in`;
      
      messageDiv.innerHTML = `
        ${role === 'assistant' ? `
          <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0 shadow-lg">
            <span class="text-white text-xl">ü§ñ</span>
          </div>
        ` : ''}
        
        <div class="max-w-[75%] rounded-2xl px-5 py-3 shadow-lg ${
          role === 'user' 
            ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white' 
            : 'bg-white text-gray-800 border border-gray-100'
        }">
          <p class="whitespace-pre-wrap break-words leading-relaxed">${content}</p>
        </div>
        
        ${role === 'user' ? `
          <div class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center flex-shrink-0 shadow-lg">
            <span class="text-white text-xl">üë§</span>
          </div>
        ` : ''}
      `;
      
      messagesDiv.appendChild(messageDiv);
      
      // Animation d'apparition
      setTimeout(() => {
        messageDiv.classList.remove('opacity-0');
        messageDiv.classList.add('opacity-100');
      }, 10);
      
      messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }
    
    function showLoading() {
      const messagesDiv = document.getElementById('messages');
      const loadingDiv = document.createElement('div');
      loadingDiv.id = 'loading';
      loadingDiv.className = 'flex gap-3 justify-start';
      loadingDiv.innerHTML = `
        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-lg">
          <span class="text-white text-xl">ü§ñ</span>
        </div>
        <div class="bg-white rounded-2xl px-5 py-3 shadow-lg border border-gray-100">
          <div class="flex gap-1 items-center">
            <div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce"></div>
            <div class="w-2 h-2 bg-pink-400 rounded-full animate-bounce" style="animation-delay: 0.15s"></div>
            <div class="w-2 h-2 bg-blue-400 rounded-full animate-bounce" style="animation-delay: 0.3s"></div>
            <span class="ml-2 text-sm text-gray-500">R√©flexion...</span>
          </div>
        </div>
      `;
      messagesDiv.appendChild(loadingDiv);
      messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }
    
    function removeLoading() {
      const loading = document.getElementById('loading');
      if (loading) loading.remove();
    }
    
    async function sendMessage() {
      const input = document.getElementById('input');
      const message = input.value.trim();
      
      if (!message) return;
      
      // V√©rifier si l'API key est configur√©e
      if (API_KEY === 'VOTRE_CLE_API_GROQ_ICI') {
        addMessage('assistant', '‚ö†Ô∏è Configuration requise : Le propri√©taire du site doit configurer la cl√© API Groq dans le code source. Remplacez "VOTRE_CLE_API_GROQ_ICI" par votre vraie cl√© API.');
        return;
      }
      
      addMessage('user', message);
      input.value = '';
      showLoading();
      
      document.getElementById('status').textContent = 'IA r√©fl√©chit...';
      document.getElementById('sendBtn').disabled = true;
      
      try {
        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${API_KEY}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            model: 'llama-3.3-70b-versatile',
            messages: [
              {
                role: 'system',
                content: 'Tu es un vendroz ai serviable, amical et concis d√©velopp√© par vendroz tech. R√©ponds en fran√ßais de mani√®re claire et naturelle.'
              },
              {
                role: 'user',
                content: message
              }
            ],
            max_tokens: 1024,
            temperature: 0.7
          })
        });
        
        if (!response.ok) {
          const errorData = await response.json().catch(() => ({}));
          throw new Error(errorData.error?.message || `Erreur ${response.status}`);
        }
        
        const data = await response.json();
        const aiResponse = data.choices[0].message.content;
        
        removeLoading();
        addMessage('assistant', aiResponse);
        document.getElementById('status').textContent = 'Pr√™t ‚Ä¢ Aucune inscription requise';
        
      } catch (error) {
        removeLoading();
        addMessage('assistant', `‚ùå Erreur : ${error.message}\n\nV√©rifiez que votre cl√© API Groq est valide.`);
        document.getElementById('status').textContent = 'Erreur - V√©rifiez la configuration';
      } finally {
        document.getElementById('sendBtn').disabled = false;
        input.focus();
      }
    }
  </script>
  
  <style>
    @keyframes fade-in {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .animate-fade-in {
      animation: fade-in 0.3s ease-out forwards;
    }
    
    @keyframes bounce {
      0%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-8px);
      }
    }
    
    .animate-bounce {
      animation: bounce 1.4s ease-in-out infinite;
    }
  </style>
</body>
            </html>
